(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(74),s=a.n(i),l=(a(85),a(1)),c=a(4),o=a(5),m=a(3),p=a(2),u=a(75),d=a(44),v=a.n(d),h=(a(18),{apiKey:u.apiKeyHidden,authDomain:"smv-daq.firebaseapp.com",databaseURL:"https://smv-daq.firebaseio.com",projectId:"smv-daq",storageBucket:"bucket.appspot.com"});v.a.initializeApp(h);var g,f=v.a,b=(a(87),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:"toggleButton"},r.a.createElement("img",{src:"/ground-dash/images/icon.png",alt:"toggle",onClick:this.props.onClick}))}}]),a}(r.a.Component)),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={date:"",time:"",daysLeft:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.tick()}));var t=new Date,a=t.toDateString(),n=new Date(2020,3,1),r="Days to Competition: "+Math.ceil((n.getTime()-t.getTime())/864e5);this.setState({date:a,daysLeft:r})}},{key:"tick",value:function(){this.setState({time:(new Date).toLocaleTimeString()})}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-fixed-top is-dark color-dark",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"https://www.bruinracing.com/smv/"},r.a.createElement("h1",null,"Bruin Racing | Super Mileage Vehicle"))),r.a.createElement("div",{className:"navbar-end is-hidden-touch"},r.a.createElement("div",{className:"navbar-item"},"Made by A. Nagarajan, Continued by K. Nguyen"),r.a.createElement("div",{className:"navbar-item"},this.state.daysLeft),r.a.createElement("div",{className:"navbar-item"},this.state.date),r.a.createElement("div",{className:"navbar-item"},this.state.time)))}}]),a}(r.a.Component),N=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card driver"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"card-content column"},r.a.createElement("div",null,r.a.createElement("figure",{className:"image is-96x96"},r.a.createElement("img",{src:"/ground-dash/images/Caroline.jpg",alt:""})),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},"Caroline"),r.a.createElement("p",{className:"title is-6"},"@CarolineDriver")),r.a.createElement("div",{className:"content"},r.a.createElement("p",{className:"title is-6"},"I Believe In You!!!")))),r.a.createElement("div",{className:"column"},r.a.createElement("img",{className:"car-image is-pulled-right",src:"/ground-dash/images/car.png",alt:"Not found"}))))}}]),a}(r.a.Component),T=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Accelerometer"),r.a.createElement("p",{className:"subtitle is-6"},"Acceleration X: ",this.props.accelerometer["acceleration x"]," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Acceleration Y: ",this.props.accelerometer["acceleration y"]," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Acceleration Z: ",this.props.accelerometer["acceleration z"]," m/s\xb2")))}}]),a}(r.a.Component),j=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"battery"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Environment"),r.a.createElement("p",{className:"subtitle is-6"},"Altitude: ",this.props.environment.altitude," m"),r.a.createElement("p",{className:"subtitle is-6"},"Temperature: ",this.props.environment.temperature," \xb0C")))}}]),a}(r.a.Component),O=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"speed"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},"Speed: ",this.props.halleffect.speed," m/s"),r.a.createElement("p",{className:"title speed-title is-6 is-spaced"},"RPM: ",this.props.halleffect.rpm," rpm"),r.a.createElement("p",{className:"subtitle speed-title is-6 is-spaced"},"Throttle: ",this.props.halleffect.throttle,"%")))}}]),a}(r.a.Component),y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"battery"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Magnetometer"),r.a.createElement("p",{className:"subtitle is-6"},"Magnetism X: ",this.props.magnetometer.MagX," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Magnetism Y: ",this.props.magnetometer.MagY," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Magnetism Z: ",this.props.magnetometer.MagZ," m/s\xb2")))}}]),a}(r.a.Component),S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Gyroscope"),r.a.createElement("p",{className:"subtitle is-6"},"Heading: ",this.props.imu.heading,"\xb0"),r.a.createElement("p",{className:"subtitle is-6"},"Gyroscopic X: ",this.props.imu.GyX," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Gyroscopic Y: ",this.props.imu.GyY," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Gyroscopic Z: ",this.props.imu.GyZ," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Pitch: ",this.props.imu.pitch,"\xb0"),r.a.createElement("p",{className:"subtitle is-6"},"Roll: ",this.props.imu.roll,"\xb0")))}}]),a}(r.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},"Joulemeter"),r.a.createElement("p",{className:"title is-6"},this.props.joulemeter.voltage," V | ",this.props.joulemeter.current," A"),r.a.createElement("p",{className:"title is-6 is-spaced"},"Power: ",this.props.joulemeter.power," W")))}}]),a}(r.a.Component),D=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card car"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(k,{joulemeter:this.props.joulemeter}),r.a.createElement(T,{accelerometer:this.props.accelerometer}),r.a.createElement(j,{environment:this.props.environment})),r.a.createElement("div",{className:"column"},r.a.createElement(O,{halleffect:this.props.halleffect}),r.a.createElement(y,{magnetometer:this.props.magnetometer}),r.a.createElement(S,{imu:this.props.imu}))))}}]),a}(r.a.Component),w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={timerOn:!1,timerStart:0,timerStart2:0,timerTime:0,timerTimeReset:0,isRunning:"False",lapNumber:1},n.startTimer=function(){n.setState({timerOn:!0,timerTime:n.state.timerTime,timerTimeReset:n.state.timerTimeReset,timerStart:Date.now()-n.state.timerTime,timerStart2:Date.now()-n.state.timerTimeReset}),n.timer=setInterval((function(){n.setState({timerTime:Date.now()-n.state.timerStart,timerTimeReset:Date.now()-n.state.timerStart2})}),10)},n.stopTimer=function(){n.setState({timerOn:!1}),clearInterval(n.timer)},n.resetTimer=function(){n.setState({timerStart:Date.now(),timerTime:0})},n.resetTimer2=function(){n.setState({timerStart2:Date.now(),timerTimeReset:0})},n.componentDidMount=function(){"True"===n.props.lap.drivingLap&&("True"===n.props.lap.drivingLap?(n.resetTimer(),n.startTimer(),n.setState({isRunning:"True"})):"False"===n.props.lap.drivingLap&&(n.stopTimer(),n.setState({isRunning:"False"})))},n.componentDidUpdate=function(){var e=n.state,t=e.isRunning,a=e.lapNumber;t!==n.props.lap.drivingLap&&("True"===n.props.lap.drivingLap?(n.startTimer(),n.resetTimer(),n.setState({isRunning:"True"})):"False"===n.props.lap.drivingLap&&(n.stopTimer(),n.setState({isRunning:"False"}))),a!==n.props.lap.Lap&&(n.resetTimer2(),n.setState({lapNumber:n.props.lap.Lap}))},n.startTimer=n.startTimer.bind(Object(o.a)(n)),n.stopTimer=n.stopTimer.bind(Object(o.a)(n)),n.resetTimer=n.resetTimer.bind(Object(o.a)(n)),n.resetTimer2=n.resetTimer2.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e,t,a={},n=f.database();n.ref("Latest Trial").on("value",(function(t){e=t.val()})),n.ref(e).on("value",(function(e){t=e.child("lap times").exists()})),n.ref(e+"/lap times").on("value",(function(e){a=e.val()}));var i="",s="",l="0",c="0";!0===t&&(l=a.Slowest,c=a.Fastest,i=a[l],s=a[c]);var o=this.state,m=o.timerTime,p=o.timerTimeReset,u=("0"+Math.floor(p/10)%100).slice(-2),d=("0"+Math.floor(p/1e3)%60).slice(-2),v=("0"+Math.floor(p/6e4)%60).slice(-2),h=18e5-m,g=("0"+Math.floor(h/10)%100).slice(-2),b=("0"+Math.floor(h/1e3)%60).slice(-2),E=("0"+Math.floor(h/6e4)%60).slice(-2);return r.a.createElement("div",null,r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-6"},"Lap: ",this.props.lap.Lap),r.a.createElement("p",{className:"subtitle is-6"},"Lap Time: ",v,":",d,".",u," "),r.a.createElement("p",{className:"subtitle is-6"},"Time Remaining: ",E,":",b,".",g," "))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"subtitle is-6"},"Slowest Lap: ",l," ",i),r.a.createElement("p",{className:"subtitle is-6"},"Fastest Lap: ",c," ",s)))))}}]),a}(r.a.Component),L=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"GPS"},r.a.createElement("div",{className:"card-content GPS"},r.a.createElement("p",{className:"title is-6"},"Latitude: ",this.props.gps.latitude),r.a.createElement("p",{className:"title is-6"},"Longitude: ",this.props.gps.longitude)))}}]),a}(r.a.Component),C=a(46),M="",R="",x="",F="",V=[],G=[],A=[],I=f.database();function Y(e){var t,a,n;return a=Math.floor(e/1e3),t=Math.floor(a/60),a%=60,n=e%1e3,(t%=60).pad(2)+":"+a.pad(2)+"."+n.pad(3)}Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var P=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).lap=n.lap.bind(Object(o.a)(n)),n.start=n.start.bind(Object(o.a)(n)),n.stop=n.stop.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"lap",value:function(){var e;if(I.ref("Running").on("value",(function(t){e=t.val()})),"True"===e){var t;I.ref("Latest Trial").on("value",(function(e){t=e.val()})),I.ref("Lap").on("value",(function(e){g=e.val()}));var a={};a.Lap=g+1;var n,r=Date.now();V.push(r),n=1===V.length?r-M:r-V[V.length-2],G.push(n);var i={};i.Fastest=G.indexOf(Math.min.apply(Math,Object(C.a)(G)))+1,i.Slowest=G.indexOf(Math.max.apply(Math,Object(C.a)(G)))+1;var s=Y(n);A.push(s),f.database().ref().update(a),i[g-1]=s,f.database().ref(t+"/lap times").update(i),this.forceUpdate()}}},{key:"start",value:function(){var e;if(I.ref("Running").on("value",(function(t){e=t.val()})),"True"===e){var t={drivingLap:"True",Lap:1};f.database().ref().update(t),M=Date.now();var a=new Date(M);R=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),x="",F="",V=[],G=[],A=[],this.forceUpdate()}}},{key:"stop",value:function(){var e,t;if(I.ref("Running").on("value",(function(t){e=t.val()})),I.ref("drivingLap").on("value",(function(e){t=e.val()})),"True"===e&&"True"===t){var a={drivingLap:"False"};f.database().ref().update(a),x=Date.now(),F=Y(x-M),this.forceUpdate()}}},{key:"render",value:function(){return r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("button",{onClick:this.start,className:"button is-primary control-button"},"Start")),r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"title is-5"},"Time: ",R))),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("button",{onClick:this.stop,className:"button is-danger control-button"},"Stop")),r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"title is-5"},"Time: ",F))),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("button",{onClick:this.lap,className:"button is-info control-button"},"Lap")),r.a.createElement("div",{className:"column padding-left"},r.a.createElement("ol",{className:"numInside"},r.a.createElement("p",{className:"title is-5"},"Time: ",A.map((function(e){return r.a.createElement("li",{key:e},e)}))))))))}}]),a}(r.a.Component),B=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card track"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},"Parking Garage"),r.a.createElement("p",{className:"title is-6"},this.props.track["Latest Trial"]," ")),r.a.createElement(L,{gps:this.props.gps}))),r.a.createElement(w,{lap:this.props.lap}),r.a.createElement("div",{className:"card-image"},r.a.createElement(P,null)))}}]),a}(r.a.Component),U=a(76),H=(a(182),a(188),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onRefresh=function(e){var t=n.props.vals;e.data.datasets.forEach((function(e){e.data.push({x:Date.now(),y:t})}))},n.onRefresh=n.onRefresh.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.pause,t={labels:this.props.labels,datasets:[{label:this.props.name,fill:!0,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}]},a={maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{display:!0},type:"time",time:{parser:"DD/MM/YYYY"},realtime:{refresh:250,onRefresh:this.onRefresh,delay:1e3,pause:e}}]}},n=this.props.changeDialogState;return r.a.createElement("div",null,r.a.createElement("select",{onChange:n},r.a.createElement("option",{style:{display:"none"}},"Pick parameter to display"),r.a.createElement("option",{value:"hall-effect|rpm"},"RPM"),r.a.createElement("option",{value:"hall-effect|speed"},"Speed"),r.a.createElement("option",{value:"hall-effect|throttle"},"Throttle"),r.a.createElement("option",{value:"accelerometer|acceleration x"},"Acceleration X"),r.a.createElement("option",{value:"accelerometer|acceleration y"},"Acceleration Y"),r.a.createElement("option",{value:"accelerometer|acceleration z"},"Acceleration Z"),r.a.createElement("option",{value:"joulemeter|current"},"Current"),r.a.createElement("option",{value:"joulemeter|power"},"Power"),r.a.createElement("option",{value:"joulemeter|voltage"},"Voltage"),r.a.createElement("option",{value:"magnetometer|MagX"},"MagX"),r.a.createElement("option",{value:"magnetometer|MagY"},"MagY"),r.a.createElement("option",{value:"magnetometer|MagZ"},"MagZ"),r.a.createElement("option",{value:"gyroscope|GyX"},"GyX"),r.a.createElement("option",{value:"gyroscope|GyY"},"GyY"),r.a.createElement("option",{value:"gyroscope|GyZ"},"GyZ"),r.a.createElement("option",{value:"gyroscope|heading"},"Heading"),r.a.createElement("option",{value:"gyroscope|pitch"},"Pitch"),r.a.createElement("option",{value:"gyroscope|roll"},"Roll"),r.a.createElement("option",{value:"gps|latitude"},"Latitude"),r.a.createElement("option",{value:"gps|longitude"},"Longitude"),r.a.createElement("option",{value:"environment|altitude"},"Altitude"),r.a.createElement("option",{value:"environment|temperature"},"Temperature")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement(U.Line,{ref:"chart",data:t,height:1e3,options:a}))))}}]),a}(r.a.Component));function X(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Z=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.dialogState1.split("|")[1].split(" ").map(X).join(" "),t=this.props.dialogState2.split("|")[1].split(" ").map(X).join(" ");return r.a.createElement("div",{className:"groundDash canvas color-dark",style:{paddingTop:"45px"}},r.a.createElement(E,null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(N,null),r.a.createElement(D,{joulemeter:this.props.joulemeter,environment:this.props.environment,magnetometer:this.props.magnetometer,imu:this.props.imu,accelerometer:this.props.accelerometer,halleffect:this.props.halleffect})),r.a.createElement("div",{className:"column"},r.a.createElement(B,{gps:this.props.gps,lap:this.props.lap,track:this.props.track}))),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(H,{labels:this.props.labels,vals:this.props.graphOneVals,name:e,changeDialogState:this.props.changeDialogState,lapLabels:this.props.lapLabels,pause:this.props.pause})),r.a.createElement("div",{className:"column"},r.a.createElement(H,{labels:this.props.labels,vals:this.props.graphTwoVals,name:t,changeDialogState:this.props.changeDialogStateTwo,lapLabels:this.props.lapLabels,pause:this.props.pause}))))}}]),a}(r.a.Component),W=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={timerOn:!1,timerStart:0,timerTime:0,isRunning:"False",lapNumber:1},n.startTimer=function(){n.setState({timerOn:!0,timerTime:n.state.timerTime,timerStart:Date.now()-n.state.timerTime,isRunning:"True"}),n.timer=setInterval((function(){n.setState({timerTime:Date.now()-n.state.timerStart})}),10)},n.stopTimer=function(){n.setState({timerOn:!1,isRunning:"False"}),clearInterval(n.timer)},n.resetTimer=function(){n.setState({timerStart:Date.now(),timerTime:0})},n.componentDidMount=function(){"True"===n.props.lap.drivingLap&&("True"===n.props.lap.drivingLap?(n.resetTimer(),n.startTimer()):"False"===n.props.lap.drivingLap&&n.stopTimer())},n.componentDidUpdate=function(){var e=n.state,t=e.isRunning,a=e.lapNumber;t!==n.props.lap.drivingLap&&("True"===n.props.lap.drivingLap?(n.startTimer(),n.resetTimer(),n.setState({isRunning:"True"})):"False"===n.props.lap.drivingLap&&(n.stopTimer(),n.setState({isRunning:"False"}))),a!==n.props.lap.Lap&&(n.resetTimer(),n.setState({lapNumber:n.props.lap.Lap}))},n.render=function(){var e=n.state.timerTime,t=("0"+Math.floor(e/10)%100).slice(-2),a=("0"+Math.floor(e/1e3)%60).slice(-2),i=("0"+Math.floor(e/6e4)%60).slice(-2),s=26e4-e,l=("0"+Math.floor(s/10)%100).slice(-2),c=("0"+Math.floor(s/1e3)%60).slice(-2),o=("0"+Math.floor(s/6e4)%60).slice(-2);return r.a.createElement("div",null,r.a.createElement("div",{className:"lap"},r.a.createElement("div",{className:"card-content columns"},r.a.createElement("div",{className:"column"},r.a.createElement("p",null,"Lap ",n.props.lap.Lap),r.a.createElement("p",null,"Remaining")),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,i," : ",a," : ",t),r.a.createElement("p",null,o," : ",c," : ",l)))))},n.startTimer=n.startTimer.bind(Object(o.a)(n)),n.stopTimer=n.stopTimer.bind(Object(o.a)(n)),n.resetTimer=n.resetTimer.bind(Object(o.a)(n)),n}return a}(r.a.Component),z=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"speed has-text-centered big"},parseFloat(2.23694*this.props.speed.speed).toFixed(1)),r.a.createElement("p",{className:"speed has-text-centered km"},"mph")))}}]),a}(r.a.Component),J=a(77),q=a.n(J),K=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-centered"},r.a.createElement(q.a,{minValue:0,maxValue:70,needleHeightRatio:.8,maxSegmentLabels:8,segments:5555,value:this.props.speedometer.speed,textColor:"white",width:1e3,height:450,needleTransition:"easePolyIn",ringWidth:120,paddingVertical:150,valueTextFontSize:"0",labelFontSize:"50",paddingHorizontal:100})))}}]),a}(r.a.Component),$=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"canvas color-dark driverDash",style:{paddingTop:"45px"}},r.a.createElement("div",{className:"columns is-vcentered"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement(z,{speed:this.props.speed})),r.a.createElement("div",{className:"column"},r.a.createElement(K,{speedometer:this.props.speed}),r.a.createElement(W,{lap:this.props.lap}))))}}]),a}(r.a.Component),Q=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).checkDifference=function(){var e=f.database(),t=new Date;if(Math.abs(n.state.latestTimeUpdate-t)>2500){var a={Running:"False"};e.ref().update(a),n.setState({pause:!0})}},n.changeDialogState=n.changeDialogState.bind(Object(o.a)(n)),n.changeDialogStateTwo=n.changeDialogStateTwo.bind(Object(o.a)(n)),n.state={all:{},latestTime:"",latestTrial:"",latestData:{},accelerometer:{},environment:{},gps:{},halleffect:{},imu:{},joulemeter:{},lapTimes:{},magnetometer:{},motor:{},speed:{},track:{},latestTimeUpdate:new Date,which:"driver",labels:[],graphOneVals:0,graphTwoVals:0,dialogState1:"|Pick a graph!",dialogState2:"|Pick a graph!",currentLap:1,lapLabels:[],pause:!0},n}return Object(c.a)(a,[{key:"changeDialogState",value:function(e){this.setState({dialogState1:e.target.value})}},{key:"changeDialogStateTwo",value:function(e){this.setState({dialogState2:e.target.value})}},{key:"componentDidMount",value:function(){var e=this,t=f.database();t.ref().on("value",(function(t){var a=t.val(),n=a.Lap;e.setState({all:a,currentLap:n})})),t.ref("Running").on("value",(function(t){"True"===t.val()&&e.setState({pause:!1})})),t.ref("Latest Time").on("value",(function(a){var n=a.val();t.ref("Latest Trial").on("value",(function(a){var r=a.val();t.ref(r).child(n).on("value",(function(t){var a,r,i,s,l,c,o,m,p,u,d,v=e.state.labels,h=e.state.graphTwoVals;v.push(n),!0===t.exists()?(a=(d=t.val()).accelerometer,r=d.environment,i=d.gps,s=d["hall-effect"],l=d.gyroscope,c=d.joulemeter,o=d["lap times"],m=d.magnetometer,p=d.motor,u=d.speed):(a=0,r=0,i=0,s=0,l=0,c=0,o=0,m=0,p=0,u=0),e.setState({latestData:d,accelerometer:a,environment:r,gps:i,halleffect:s,imu:l,joulemeter:c,lapTimes:o,magnetometer:m,motor:p,speed:u,labels:v,graphTwoVals:h})})),e.setState({latestTrial:r,latestTime:n})}))})),this.interval=setInterval(this.checkDifference,5e3)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.latestTime!==t.latestTime&&!1===this.state.pause){var a=new Date;this.setState({latestTimeUpdate:a})}if(""!==this.state.dialogState1.split("|")[0]&&this.state.latestTime!==t.latestTime){var n=this.state.latestData,r=this.state.dialogState1.split("|");this.setState({graphOneVals:n[r[0]][r[1]]})}if(""!==this.state.dialogState2.split("|")[0]&&this.state.latestTime!==t.latestTime){var i=this.state.latestData,s=this.state.dialogState2.split("|");this.setState({graphTwoVals:i[s[0]][s[1]]})}}},{key:"render",value:function(){var e,t=this,a=this.state.which;"ground"===a?e=r.a.createElement(b,{onClick:function(){return t.setState({which:"driver"})}}):"driver"===a&&(e=r.a.createElement(b,{onClick:function(){return t.setState({which:"ground"})}}));var n=this.changeDialogState,i=this.changeDialogStateTwo;return r.a.createElement("div",null,r.a.createElement(_,{props:this,changeDialogState:n,changeDialogStateTwo:i}),e)}}]),a}(r.a.Component);function _(e){var t=e.props.state,a=t.which,n=t.joulemeter,i=t.environment,s=t.magnetometer,l=t.imu,c=t.accelerometer,o=t.halleffect,m=t.gps,p=t.all,u=t.labels,d=t.graphOneVals,v=t.graphTwoVals,h=t.dialogState1,g=t.dialogState2,f=t.lapLabels,b=t.pause,E=e.changeDialogState,N=e.changeDialogStateTwo;return"ground"===a?r.a.createElement(Z,{joulemeter:n,environment:i,magnetometer:s,imu:l,accelerometer:c,halleffect:o,gps:m,lap:p,track:p,labels:u,graphTwoVals:v,graphOneVals:d,changeDialogState:E,changeDialogStateTwo:N,dialogState1:h,dialogState2:g,lapLabels:f,pause:b}):"driver"===a?r.a.createElement($,{speed:o,speedometer:o,lap:p}):void 0}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},75:function(e,t){},80:function(e,t,a){e.exports=a(206)},85:function(e,t,a){},87:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.154ff769.chunk.js.map