(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{16:function(e,t,a){e.exports=a(33)},21:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(14),i=a.n(n),l=(a(21),a(3)),c=a(4),m=a(6),o=a(5),p=a(11),u=a.n(p);u.a.initializeApp({apiKey:"AIzaSyAnFTWZTgWEugKOSUM6WY_NkxrPzRzn6dU",authDomain:"bruin-racing.firebaseapp.com",databaseURL:"https://bruin-racing.firebaseio.com",projectId:"bruin-racing",storageBucket:"bucket.appspot.com"});var d,v=u.a,h=(a(32),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={date:"",time:"",daysLeft:0},s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.tick()}));var t=new Date,a=t.toDateString(),s=new Date(2020,3,1),r="Days to Competition: "+Math.ceil((s.getTime()-t.getTime())/864e5);this.setState({date:a,daysLeft:r})}},{key:"tick",value:function(){this.setState({time:(new Date).toLocaleTimeString()})}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-fixed-top is-dark color-dark",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"https://www.bruinracing.com/smv/"},r.a.createElement("h1",null,"Bruin Racing | Super Mileage Vehicle"))),r.a.createElement("div",{className:"navbar-end is-hidden-touch"},r.a.createElement("div",{className:"navbar-item"},"Made by A. Nagarajan, Continued by K. Nguyen"),r.a.createElement("div",{className:"navbar-item"},this.state.daysLeft),r.a.createElement("div",{className:"navbar-item"},this.state.date),r.a.createElement("div",{className:"navbar-item"},this.state.time)))}}]),a}(r.a.Component)),b=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card driver"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"card-content column"},r.a.createElement("div",null,r.a.createElement("figure",{className:"image is-96x96"},r.a.createElement("img",{src:this.props.driver.image,alt:""})),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},this.props.driver.name),r.a.createElement("p",{className:"title is-6"},this.props.driver.social)),r.a.createElement("div",{className:"content"},r.a.createElement("p",{className:"title is-6"},this.props.driver.message)))),r.a.createElement("div",{className:"column"},r.a.createElement("img",{className:"car-image is-pulled-right",src:"./images/car.png",alt:""}))))}}]),a}(r.a.Component),E=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"motor"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Motor"),r.a.createElement("p",{className:"subtitle is-6"},this.props.motor.bhp," BHP | ",this.props.motor.volt," V"),r.a.createElement("p",{className:"subtitle is-6"},"Temp: ",this.props.motor.temp," F")))}}]),a}(r.a.Component),f=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"battery"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Battery"),r.a.createElement("p",{className:"subtitle is-6"},this.props.battery.volt," V | ",this.props.battery.amp," A"),r.a.createElement("p",{className:"subtitle is-6"},"Temp: ",this.props.battery.temp," F"),r.a.createElement("p",{className:"subtitle is-6"},"Remaining: ",this.props.battery.remaining,"%")))}}]),a}(r.a.Component),N=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"IMU"),r.a.createElement("p",{className:"subtitle is-6"},"Heading: ",this.props.imu.Heading),r.a.createElement("p",{className:"subtitle is-6"},"Magnitude X: ",this.props.imu.MagX),r.a.createElement("p",{className:"subtitle is-6"},"Magnitude Y: ",this.props.imu.MagY),r.a.createElement("p",{className:"subtitle is-6"},"Magnitude Z: ",this.props.imu.MagZ),r.a.createElement("p",{className:"subtitle is-6"},"Pitch: ",this.props.imu.Pitch,"\xb0"),r.a.createElement("p",{className:"subtitle is-6"},"Roll: ",this.props.imu.Roll,"\xb0")))}}]),a}(r.a.Component),g=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Joulemeter"),r.a.createElement("p",{className:"title is-6"},this.props.joulemeter.volt," V | ",this.props.joulemeter.amp," A"),r.a.createElement("p",{className:"title is-6 is-spaced"},"Instant Power: ",this.props.joulemeter.instant," W"),r.a.createElement("p",{className:"subtitle is-6"},"Avg Efficiency: ",this.props.joulemeter.avg," mi/kWh"),r.a.createElement("p",{className:"subtitle is-6"},"Peak Efficiency: ",this.props.joulemeter.peak," mi/kWh"),r.a.createElement("p",{className:"subtitle is-6"},"Altitude: ",this.props.joulemeter.Altitude," "),r.a.createElement("p",{className:"subtitle is-6"},"GyX: ",this.props.joulemeter.GyX,"\xb0"),r.a.createElement("p",{className:"subtitle is-6"},"GyY: ",this.props.joulemeter.GyY,"\xb0"),r.a.createElement("p",{className:"subtitle is-6"},"GyZ: ",this.props.joulemeter.GyZ,"\xb0")))}}]),a}(r.a.Component),j=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"speed"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},"Speed: ",this.props.speed.speed," m/s"),r.a.createElement("p",{className:"title speed-title is-6 is-spaced"},"RPM: ",this.props.speed.rpm," rpm"),r.a.createElement("p",{className:"subtitle speed-title is-6 is-spaced"},"Throttle: ",this.props.speed.throttle,"%"),r.a.createElement("p",{className:"subtitle speed-title is-6 is-spaced"},"X Accel: ",this.props.speed["acceleration x"]," m/s",r.a.createElement("sup",null,"2")),r.a.createElement("p",{className:"subtitle speed-title is-6 is-spaced"},"Y Accel: ",this.props.speed["acceleration y"]," m/s",r.a.createElement("sup",null,"2")),r.a.createElement("p",{className:"subtitle speed-title is-6 is-spaced"},"Z Accel: ",this.props.speed["acceleration z"]," m/s",r.a.createElement("sup",null,"2")),r.a.createElement("p",{className:"subtitle is-6"},"Avg Speed: ",this.props.speed.avg," mph"),r.a.createElement("p",{className:"subtitle is-6"})))}}]),a}(r.a.Component),O=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card car"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(g,{joulemeter:this.props.joulemeter}),r.a.createElement(f,{battery:this.props.battery})),r.a.createElement("div",{className:"column"},r.a.createElement(j,{speed:this.props.speed}),r.a.createElement(E,{motor:this.props.motor}),r.a.createElement(N,{imu:this.props.imu}))))}}]),a}(r.a.Component),y=a(8),T=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={timerOn:!1,timerStart:0,timerStart2:0,timerTime:0,timerTimeReset:0,isRunning:"False",lapNumber:1},s.startTimer=function(){s.setState({timerOn:!0,timerTime:s.state.timerTime,timerTimeReset:s.state.timerTimeReset,timerStart:Date.now()-s.state.timerTime,timerStart2:Date.now()-s.state.timerTimeReset}),s.timer=setInterval((function(){s.setState({timerTime:Date.now()-s.state.timerStart,timerTimeReset:Date.now()-s.state.timerStart2})}),10)},s.stopTimer=function(){s.setState({timerOn:!1}),clearInterval(s.timer)},s.resetTimer=function(){s.setState({timerStart:Date.now(),timerTime:0})},s.resetTimer2=function(){s.setState({timerStart2:Date.now(),timerTimeReset:0})},s.componentDidMount=function(){"True"===s.props.lap.Running&&("True"===s.props.lap.Running?(s.resetTimer(),s.startTimer(),s.setState({isRunning:"True"})):"False"===s.props.lap.Running&&(s.stopTimer(),s.setState({isRunning:"False"})))},s.componentDidUpdate=function(){var e=s.state,t=e.isRunning,a=e.lapNumber;t!==s.props.lap.Running&&("True"===s.props.lap.Running?(s.startTimer(),s.resetTimer(),s.setState({isRunning:"True"})):"False"===s.props.lap.Running&&(s.stopTimer(),s.setState({isRunning:"False"}))),a!==s.props.lap.Lap&&(s.resetTimer2(),s.setState({lapNumber:s.props.lap.Lap}))},s.startTimer=s.startTimer.bind(Object(y.a)(s)),s.stopTimer=s.stopTimer.bind(Object(y.a)(s)),s.resetTimer=s.resetTimer.bind(Object(y.a)(s)),s.resetTimer2=s.resetTimer2.bind(Object(y.a)(s)),s}return Object(c.a)(a,[{key:"render",value:function(){var e,t,a={},s=v.database();s.ref("Latest Trial").on("value",(function(t){e=t.val()})),s.ref(e).on("value",(function(e){t=e.child("lap times").exists()})),s.ref(e+"/lap times").on("value",(function(e){a=e.val()}));var n="",i="";!0===t&&(n=a[this.props.lap.Slowest],i=a[this.props.lap.Fastest]);var l=this.state,c=l.timerTime,m=l.timerTimeReset,o=("0"+Math.floor(m/10)%100).slice(-2),p=("0"+Math.floor(m/1e3)%60).slice(-2),u=("0"+Math.floor(m/6e4)%60).slice(-2),d=18e5-c,h=("0"+Math.floor(d/10)%100).slice(-2),b=("0"+Math.floor(d/1e3)%60).slice(-2),E=("0"+Math.floor(d/6e4)%60).slice(-2);return r.a.createElement("div",null,r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-6"},"Lap: ",this.props.lap.Lap),r.a.createElement("p",{className:"subtitle is-6"},"Lap Time: ",u,":",p,".",o," "),r.a.createElement("p",{className:"subtitle is-6"},"Time Remaining: ",E,":",b,".",h," "))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"subtitle is-6"},"Slowest Lap: ",this.props.lap.Slowest," ",n),r.a.createElement("p",{className:"subtitle is-6"},"Fastest Lap: ",this.props.lap.Fastest," ",i)))))}}]),a}(r.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"GPS"},r.a.createElement("div",{className:"card-content GPS"},r.a.createElement("p",{className:"title is-6"},"Latitude: ",this.props.gps.lat),r.a.createElement("p",{className:"title is-6"},"Longitude: ",this.props.gps.long)))}}]),a}(r.a.Component),S=a(12),M="",w="",R="",D="",L=[],C=[],A=[];function F(e){var t,a,s;return a=Math.floor(e/1e3),t=Math.floor(a/60),a%=60,s=e%1e3,(t%=60).pad(2)+":"+a.pad(2)+"."+s.pad(3)}Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var I=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).lap=s.lap.bind(Object(y.a)(s)),s.start=s.start.bind(Object(y.a)(s)),s.stop=s.stop.bind(Object(y.a)(s)),s}return Object(c.a)(a,[{key:"lap",value:function(){var e,t=v.database();t.ref("Latest Trial").on("value",(function(t){e=t.val()})),t.ref("Lap").on("value",(function(e){d=e.val()}));var a={};a.Lap=d+1;var s,r=Date.now();L.push(r),s=1===L.length?r-M:r-L[L.length-2],C.push(s),a.Fastest=C.indexOf(Math.min.apply(Math,Object(S.a)(C)))+1,a.Slowest=C.indexOf(Math.max.apply(Math,Object(S.a)(C)))+1;var n=F(s);A.push(n),v.database().ref().update(a);var i={};i[d-1]=n,v.database().ref(e+"/lap times").update(i),this.forceUpdate()}},{key:"start",value:function(){var e={Running:"True",Lap:1};v.database().ref().update(e),M=Date.now();var t=new Date(M);w=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),R="",D="",L=[],C=[],A=[],this.forceUpdate()}},{key:"stop",value:function(){var e={Running:"False"};v.database().ref().update(e),R=Date.now(),D=F(R-M),this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("button",{onClick:this.start,className:"button is-primary control-button"},"Start")),r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"title is-5"},"Time: ",w))),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("button",{onClick:this.stop,className:"button is-danger control-button"},"Stop")),r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"title is-5"},"Time: ",D))),r.a.createElement("hr",null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("button",{onClick:this.lap,className:"button is-info control-button"},"Lap")),r.a.createElement("div",{className:"column padding-left"},r.a.createElement("ol",{className:"numInside"},r.a.createElement("p",{className:"title is-5"},"Time: ",A.map((function(e){return r.a.createElement("li",null,e)}))))))))}}]),a}(r.a.Component),x=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card track"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},this.props.track.name),r.a.createElement("p",{className:"title is-6"},"Trial Number ",this.props.track.trial," ")),r.a.createElement(k,{gps:this.props.gps}))),r.a.createElement(T,{lap:this.props.lap}),r.a.createElement("div",{className:"card-image"},r.a.createElement(I,null)))}}]),a}(r.a.Component),P=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={all:{},latestTime:"",latestTrial:"",latestData:{},battery:{},driver:{},gps:{},imu:{},joulemeter:{},lap:{},motor:{},speed:{},track:{}},s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=v.database();t.ref().on("value",(function(t){var a=t.val();e.setState({all:a})})),t.ref("Latest Time").on("value",(function(a){var s=a.val();t.ref("Latest Trial").on("value",(function(a){var r=a.val();t.ref(r).child(s).on("value",(function(t){var a,s=(a=t.val()).battery,r=a.driver,n=a.gps,i=a.IMU,l=a.joulemeter,c=a.lap,m=a.motor,o=a.speed,p=a.track;e.setState({latestData:a,battery:s,driver:r,gps:n,imu:i,joulemeter:l,lap:c,motor:m,speed:o,track:p})})),e.setState({latestTrial:r})})),e.setState({latestTime:s})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"canvas color-dark",style:{paddingTop:"45px"}},r.a.createElement(h,null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(b,{driver:this.state.driver}),r.a.createElement(O,{battery:this.state.battery,motor:this.state.motor,imu:this.state.imu,joulemeter:this.state.joulemeter,speed:this.state.speed})),r.a.createElement("div",{className:"column"},r.a.createElement(x,{gps:this.state.gps,lap:this.state.all,track:this.state.track}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.c6eb5610.chunk.js.map