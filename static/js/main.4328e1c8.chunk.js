(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(78),s=a.n(c),i=(a(90),a(7)),l=a(79),o=a(50),m=a.n(o),p=(a(25),{apiKey:l.apiKeyHidden,authDomain:"smv-daq.firebaseapp.com",databaseURL:"https://smv-daq.firebaseio.com",projectId:"smv-daq",storageBucket:"bucket.appspot.com"});m.a.initializeApp(p);var u,d=m.a,v=(a(91),a(3)),h=a(6),b=a(5),f=a(4),j=(r.a.Component,function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={date:"",time:"",daysLeft:0},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){return e.tick()}));var t=new Date,a=t.toDateString(),n=new Date(2022,3,9),r="Days to Competition: "+Math.ceil((n.getTime()-t.getTime())/864e5);this.setState({date:a,daysLeft:r})}},{key:"tick",value:function(){this.setState({time:(new Date).toLocaleTimeString()})}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-fixed-top is-dark color-dark",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"https://www.bruinracing.com/smv/"},r.a.createElement("h1",null,"Bruin SuperMileage"))),r.a.createElement("div",{className:"navbar-end is-hidden-touch"},r.a.createElement("div",{className:"navbar-item"},this.state.daysLeft),r.a.createElement("div",{className:"navbar-item"},this.state.date),r.a.createElement("div",{className:"navbar-item"},this.state.time)))}}]),a}(r.a.Component)),E=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card driver"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"card-content column"},r.a.createElement("div",null,r.a.createElement("figure",{className:"image is-96x96"},r.a.createElement("img",{src:"/ground-dash/images/Caroline.jpg",alt:""})),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},"Caroline"),r.a.createElement("p",{className:"title is-6"},"@CarolineDriver")),r.a.createElement("div",{className:"content"},r.a.createElement("p",{className:"title is-6"},"I Believe In You!!!")))),r.a.createElement("div",{className:"column"},r.a.createElement("img",{className:"car-image is-pulled-right",src:"/ground-dash/images/car.png",alt:"Not found"}))))}}]),a}(r.a.Component),O=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=Math.pow(Math.pow(this.props.accelerometer["acceleration x"],2)+Math.pow(this.props.accelerometer["acceleration y"],2)+Math.pow(this.props.accelerometer["acceleration z"],2),.5).toFixed(3);return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Accelerometer"),r.a.createElement("p",{className:"subtitle is-6"},"Acceleration X: ",this.props.accelerometer["acceleration x"]," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Acceleration Y: ",this.props.accelerometer["acceleration y"]," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Acceleration Z: ",this.props.accelerometer["acceleration z"]," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Acceleration: ",e," m/s\xb2")))}}]),a}(r.a.Component),g=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"battery"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Environment"),r.a.createElement("p",{className:"subtitle is-6"},"Altitude: ",this.props.environment.altitude," m"),r.a.createElement("p",{className:"subtitle is-6"},"Temperature: ",this.props.environment.temperature," \xb0C")))}}]),a}(r.a.Component),N=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"speed"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},"Speed: ",this.props.halleffect.speed," m/s"),r.a.createElement("p",{className:"title speed-title is-6 is-spaced"},"RPM: ",this.props.halleffect.rpm," rpm"),r.a.createElement("p",{className:"subtitle speed-title is-6 is-spaced"},"Throttle: ",this.props.halleffect.throttle,"%")))}}]),a}(r.a.Component),y=(r.a.Component,function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-5"},"Gyroscope"),r.a.createElement("p",{className:"subtitle is-6"},"Gyroscopic X: ",this.props.imu.GyX," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Gyroscopic Y: ",this.props.imu.GyY," m/s\xb2"),r.a.createElement("p",{className:"subtitle is-6"},"Gyroscopic Z: ",this.props.imu.GyZ," m/s\xb2")))}}]),a}(r.a.Component)),S=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"joulemeter"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},"Joulemeter"),r.a.createElement("p",{className:"title is-6"},this.props.joulemeter.voltage," V | ",this.props.joulemeter.current," A"),r.a.createElement("p",{className:"title is-6 is-spaced"},"Power: ",this.props.joulemeter.power," W")))}}]),a}(r.a.Component),T=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card car"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(S,{joulemeter:this.props.joulemeter}),r.a.createElement(O,{accelerometer:this.props.accelerometer}),r.a.createElement(g,{environment:this.props.environment})),r.a.createElement("div",{className:"column"},r.a.createElement(N,{halleffect:this.props.halleffect}),r.a.createElement(y,{imu:this.props.imu}))))}}]),a}(r.a.Component),k=a(8),w=(r.a.Component,function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"GPS"},r.a.createElement("div",{className:"card-content GPS"},r.a.createElement("p",{className:"title is-6"},"Latitude: ",this.props.gps.latitude),r.a.createElement("p",{className:"title is-6"},"Longitude: ",this.props.gps.longitude)))}}]),a}(r.a.Component)),C=a(52),L="",D="",M="",x="",I=[],F=[],R=[],G=d.database();function A(e){var t,a,n;return a=Math.floor(e/1e3),t=Math.floor(a/60),a%=60,n=e%1e3,(t%=60).pad(2)+":"+a.pad(2)+"."+n.pad(3)}Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};r.a.Component;var V=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card track"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},"Indianapolis Motor Speedway"),r.a.createElement("p",{className:"title is-6"},this.props.track["Latest Trial"]," ")),r.a.createElement(w,{gps:this.props.gps}))),r.a.createElement("div",{className:"card-image"}))}}]),a}(r.a.Component),z=a(80);a(186),a(192),r.a.Component;var B=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"groundDash canvas color-dark",style:{paddingTop:"45px"}},r.a.createElement(j,null),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(E,null),r.a.createElement(T,{joulemeter:this.props.joulemeter,environment:this.props.environment,magnetometer:this.props.magnetometer,imu:this.props.imu,accelerometer:this.props.accelerometer,halleffect:this.props.halleffect})),r.a.createElement("div",{className:"column"},r.a.createElement(V,{gps:this.props.gps,track:this.props.track}))))}}]),a}(r.a.Component),P=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={timerOn:!1,timerStart:0,timerTime:0,isRunning:"False",lapNumber:1},n.startTimer=function(){n.setState({timerOn:!0,timerTime:n.state.timerTime,timerStart:Date.now()-n.state.timerTime,isRunning:"True"}),n.timer=setInterval((function(){n.setState({timerTime:Date.now()-n.state.timerStart})}),10)},n.stopTimer=function(){n.setState({timerOn:!1,isRunning:"False"}),clearInterval(n.timer)},n.resetTimer=function(){n.setState({timerStart:Date.now(),timerTime:0})},n.componentDidMount=function(){"True"===n.props.lap.drivingLap&&("True"===n.props.lap.drivingLap?(n.resetTimer(),n.startTimer()):"False"===n.props.lap.drivingLap&&n.stopTimer())},n.componentDidUpdate=function(){var e=n.state,t=e.isRunning,a=e.lapNumber;t!==n.props.lap.drivingLap&&("True"===n.props.lap.drivingLap?(n.startTimer(),n.resetTimer(),n.setState({isRunning:"True"})):"False"===n.props.lap.drivingLap&&(n.stopTimer(),n.setState({isRunning:"False"}))),a!==n.props.lap.Lap&&(n.resetTimer(),n.setState({lapNumber:n.props.lap.Lap}))},n.render=function(){var e=n.state.timerTime,t=("0"+Math.floor(e/10)%100).slice(-2),a=("0"+Math.floor(e/1e3)%60).slice(-2),c=("0"+Math.floor(e/6e4)%60).slice(-2),s=26e4-e,i=("0"+Math.floor(s/10)%100).slice(-2),l=("0"+Math.floor(s/1e3)%60).slice(-2),o=("0"+Math.floor(s/6e4)%60).slice(-2);return r.a.createElement("div",null,r.a.createElement("div",{className:"lap"},r.a.createElement("div",{className:"card-content columns"},r.a.createElement("div",{className:"column"},r.a.createElement("p",null,"Lap ",n.props.lap.Lap),r.a.createElement("p",null,"Remaining")),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,c," : ",a," : ",t),r.a.createElement("p",null,o," : ",l," : ",i)))))},n.startTimer=n.startTimer.bind(Object(k.a)(n)),n.stopTimer=n.stopTimer.bind(Object(k.a)(n)),n.resetTimer=n.resetTimer.bind(Object(k.a)(n)),n}return a}(r.a.Component),W=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"speed has-text-centered big"},parseFloat(2.23694*this.props.speed.speed).toFixed(1)),r.a.createElement("p",{className:"speed has-text-centered km"},"mph")))}}]),a}(r.a.Component),Y=a(81),q=a.n(Y),H=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-text-centered"},r.a.createElement(q.a,{minValue:0,maxValue:70,needleHeightRatio:.8,maxSegmentLabels:8,segments:5555,value:this.props.speedometer.speed,textColor:"white",width:1e3,height:450,needleTransition:"easePolyIn",ringWidth:120,paddingVertical:150,valueTextFontSize:"0",labelFontSize:"50",paddingHorizontal:100})))}}]),a}(r.a.Component),J=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"canvas color-dark driverDash",style:{paddingTop:"45px"}},r.a.createElement("div",{className:"columns is-vcentered"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement(W,{speed:this.props.speed})),r.a.createElement("div",{className:"column"},r.a.createElement(H,{speedometer:this.props.speed}),r.a.createElement(P,{lap:this.props.lap}))))}}]),a}(r.a.Component),U=(a(210),function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(0)),s=Object(i.a)(c,2),l=s[0],o=(s[1],Object(n.useState)(!1)),m=Object(i.a)(o,2),p=m[0],u=(m[1],Object(n.useState)(!1)),v=Object(i.a)(u,2),h=v[0],b=(v[1],Object(n.useState)("")),f=Object(i.a)(b,2),j=f[0],E=(f[1],Object(n.useState)("")),O=Object(i.a)(E,2),g=O[0],N=(O[1],Object(n.useState)(0)),y=Object(i.a)(N,2),S=y[0],T=y[1],k=Object(n.useState)(0),w=Object(i.a)(k,2),C=w[0],L=w[1],D=Object(n.useState)(0),M=Object(i.a)(D,2),x=M[0],I=M[1],F=Object(n.useState)(0),R=Object(i.a)(F,2),G=R[0],A=R[1],V=Object(n.useState)(0),z=Object(i.a)(V,2),B=z[0],P=z[1],W=Object(n.useState)(0),Y=Object(i.a)(W,2),q=Y[0],H=Y[1],J=Object(n.useState)(0),U=Object(i.a)(J,2),Z=U[0],K=U[1],$=Object(n.useState)(0),Q=Object(i.a)($,2),_=Q[0],ee=Q[1],te=Object(n.useState)(0),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(0),se=Object(i.a)(ce,2),ie=se[0],le=se[1],oe=Object(n.useState)({}),me=Object(i.a)(oe,2),pe=me[0],ue=me[1];return Object(n.useEffect)((function(){var e,t=d.database();t.ref("Latest Time").on("value",(function(a){var n;e=a.val(),t.ref("Latest Trial").on("value",(function(a){n=a.val(),console.log(n+" "+e),t.ref(n).child(e).on("value",(function(e){if(console.log("before fetch: 0"),console.log("after fetch: 0"),!1!==e.exists()){var t=e.val();ue(t),T(t.accelerometer),L(t.environment),I(t.gps),A(t["hall-effect"]),P(t.gyroscope),H(t.joulemeter),K(t["lap times"]),ee(t.magnetometer),re(t.motor),le(t.speed)}}))}))}))}),[j]),r.a.createElement("div",null,r.a.createElement(X,{props:{joulemeter:q,all:a,currentLap:l,running:p,pause:h,latestTime:j,latestTrial:g,accelerometer:S,environment:C,gps:x,halleffect:G,imu:B,laptimes:Z,magnetometer:_,motor:ne,speed:ie,latestData:pe,which:"ground"}}))});function X(e){var t=e.props,a=t.which,n=t.joulemeter,c=t.environment,s=t.magnetometer,i=t.imu,l=t.accelerometer,o=t.halleffect,m=t.gps,p=t.all,u=t.labels,d=t.graphOneVals,v=t.graphTwoVals,h=t.dialogState1,b=t.dialogState2,f=t.lapLabels,j=t.pause,E=e.changeDialogState,O=e.changeDialogStateTwo;return"ground"===a?r.a.createElement(B,{joulemeter:n,environment:c,magnetometer:s,imu:i,accelerometer:l,halleffect:o,gps:m,lap:p,track:p,labels:u,graphTwoVals:v,graphOneVals:d,changeDialogState:E,changeDialogStateTwo:O,dialogState1:h,dialogState2:b,lapLabels:f,pause:j}):"driver"===a?r.a.createElement(J,{speed:o,speedometer:o,lap:p}):void 0}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},79:function(e,t){},85:function(e,t,a){e.exports=a(219)},90:function(e,t,a){},91:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.4328e1c8.chunk.js.map